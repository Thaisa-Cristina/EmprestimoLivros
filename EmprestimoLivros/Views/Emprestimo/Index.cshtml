@model IEnumerable<EmprestimosModel>

@{
    ViewData["title"] = "Empréstimos";
}

<div class="container ">
    <table class="table table-dark table-hover">

        <div class="d-flex justify-content-between align-items-center mb-5">
            <h1>Empréstimos</h1>

            <div>
                <a class="btn btn-success mx-2" asp-controller="Emprestimo" asp-action="Exportar"><i class="bi bi-file-earmark-plus mx-2"></i>Exportar</a>
                <a class="btn btn-success mx-2" asp-controller="Emprestimo" asp-action="Cadastrar"><i class="bi bi-person-plus  mx-2"></i></i>Cadastrar novo empréstimo</a>
            </div>
        </div>

        @if (TempData["MensagemSucesso"] != null)
        {
            <div class="alert alert-success text-light" role="alert">
                @TempData["MensagemSucesso"]
            </div>
        }

        @if (TempData["MensagemErro"] != null)
        {
            <div class="alert alert-danger text-light" role="alert">
                @TempData["MensagemErro"]
            </div>
        }


        <table id="Emprestimos" class="table table-light table-hover mt-5">
            <br />
            <thead>
                <tr>
                    <th scope="col">Recebedor</th>
                    <th scope="col">Fornecedor</th>
                    <th scope="col">Livro</th>
                    <th scope="col">Data empréstimo</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>

                @if (Model != null)
                {
                    @foreach (var emprestimo in Model)
                    {
                        <tr>
                            <th scope="row">@emprestimo.Recebedor</th>
                            <td>@emprestimo.Fornecedor</td>
                            <td>@emprestimo.LivroEmprestado</td>
                            <td>@emprestimo.DataEmprestimo</td>
                            <td>
                                <a class="btn btn-warning mx-2" asp-controller="Emprestimo" asp-action="Editar" asp-route-id="@emprestimo.Id"><i class="bi bi-pencil-square"></i>Editar</a>
                                <a class="btn btn-danger mx-2" asp-controller="Emprestimo" asp-action="Excluir" asp-route-id="@emprestimo.Id"><i class="bi bi-trash3-fill"></i>Excluir</a>
                            </td>
                        </tr>
                    }
                }

            </tbody>
        </table>
    </table>
</div>

<footer class="border-top footer text-muted bg-dark">
    <div class="container">
        &copy; 2024 - Empréstimos Devti.Tech - <a asp-area="" asp-controller="Emprestimo" asp-action="Index" class="text-light">Empréstimos</a>
    </div>
</footer>